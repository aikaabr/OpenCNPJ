<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenCNPJ – Documentação</title>
    <meta name="description" content="OpenCNPJ é uma API pública e gratuita para consultar dados cadastrais de empresas brasileiras por CNPJ." />
    <meta name="theme-color" content="#0B1220" />

    <!-- Open Graph / WhatsApp / LinkedIn -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="OpenCNPJ – API pública de CNPJ" />
    <meta property="og:description" content="Consulta gratuita de CNPJ com resposta em JSON. Base atualizada mensalmente e opção de download completo." />
    <meta property="og:site_name" content="OpenCNPJ" />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:image" content="/assets/og-image.png" />
    <meta property="og:image:alt" content="OpenCNPJ – API pública de CNPJ" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="OpenCNPJ – API pública de CNPJ" />
    <meta name="twitter:description" content="Consulta gratuita de CNPJ com resposta em JSON. Base atualizada mensalmente e opção de download completo." />
    <meta name="twitter:image" content="/assets/og-image.png" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <main class="container simple docs">
      <div class="doc-hero header-stack">
        <img src="assets/logo.svg" width="220" height="44" alt="OpenCNPJ" class="logo" />
      </div>

      <section id="intro">
        <h2>Visão Geral</h2>
        <p>
          OpenCNPJ é uma API pública e gratuita para consultar dados cadastrais de empresas brasileiras por CNPJ. Informe um CNPJ válido e receba uma resposta JSON simples, pronta para uso em aplicativos, integrações e automações.
        </p>
      </section>

      <section id="api">
        <h2>API</h2>
        <h3>Estrutura da URL</h3>
        <p>A API expõe um único recurso:</p>
        <pre class="code http">GET https://api.opencnpj.org/{CNPJ}</pre>
        <p>Retorna os dados do CNPJ informado em JSON.</p>

        <h3>Parâmetros</h3>
        <p><strong>Path</strong> <code>{CNPJ}</code> — 14 dígitos. Formatos aceitos:</p>
        <ul>
          <li>Só números: <code>00000000000000</code></li>
          <li>Com pontuação completa: <code>00.000.000/0000-00</code></li>
          <li>Com pontos e barra (sem hífen): <code>00.000.000/000000</code></li>
        </ul>

        <h3>Consulta rápida</h3>
        <form id="search-form" class="search" novalidate>
          <div class="field">
            <label for="cnpj">CNPJ</label>
            <input id="cnpj" name="cnpj" inputmode="numeric" autocomplete="off" placeholder="00.000.000/0000-00" aria-describedby="hint" />
          </div>
          <div class="actions">
            <button id="search-btn" type="submit" class="btn primary">Buscar</button>
            <p id="hint" class="hint">Aceita com/sem pontuação</p>
          </div>
        </form>

        <h3>Exemplos</h3>
        <pre class="code"># só números
curl -s https://api.opencnpj.org/00000000000000 | jq

# com pontuação completa
curl -s "https://api.opencnpj.org/00.000.000/0000-00" | jq

# com pontos e barra (sem hífen)
curl -s "https://api.opencnpj.org/00.000.000/000000" | jq</pre>

        <h3>Resposta</h3>
        <p><strong>Content-Type:</strong> <code>application/json</code></p>
        <p>Exemplo de resposta (campos podem variar):</p>
        <pre class="code">{
  "cnpj": "00000000000000",
  "razao_social": "EMPRESA EXEMPLO LTDA",
  "nome_fantasia": "EXEMPLO",
  "situacao_cadastral": "Ativa",
  "data_situacao_cadastral": "2000-01-01",
  "matriz_filial": "Matriz",
  "data_inicio_atividade": "2000-01-01",
  "cnae_principal": "0000000",
  "cnaes_secundarios": [
    "0000001",
    "0000002"
  ],
  "cnaes_secundarios_count": 2,
  "natureza_juridica": "Sociedade Empresária Limitada",
  "logradouro": "RUA EXEMPLO",
  "numero": "123",
  "complemento": "SALA 1",
  "bairro": "BAIRRO EXEMPLO",
  "cep": "00000000",
  "uf": "SP",
  "municipio": "SAO PAULO",
  "email": "contato@exemplo.com",
  "telefones": [
    {
      "ddd": "11",
      "numero": "900000000",
      "is_fax": false
    }
  ],
  "capital_social": "1000,00",
  "porte_empresa": "Microempresa (ME)",
  "opcao_simples": null,
  "data_opcao_simples": null,
  "opcao_mei": null,
  "data_opcao_mei": null,
  "QSA": [
    {
      "nome_socio": "SOCIO PJ EXEMPLO",
      "cnpj_cpf_socio": "00000000000000",
      "qualificacao_socio": "Sócio Pessoa Jurídica",
      "data_entrada_sociedade": "2000-01-01",
      "identificador_socio": "Pessoa Jurídica",
      "faixa_etaria": "Não se aplica"
    },
    {
      "nome_socio": "SOCIA PF EXEMPLO",
      "cnpj_cpf_socio": "***000000**",
      "qualificacao_socio": "Administrador",
      "data_entrada_sociedade": "2000-01-01",
      "identificador_socio": "Pessoa Física",
      "faixa_etaria": "31 a 40 anos"
    }
  ]
}</pre>

        <h3>Códigos de status</h3>
        <ul>
          <li><strong>200</strong> — CNPJ encontrado</li>
          <li><strong>404</strong> — CNPJ não encontrado</li>
          <li><strong>429</strong> — limite de requisições excedido</li>
        </ul>

        <h3>Autenticação e limites</h3>
        <ul>
          <li><strong>Autenticação:</strong> não requer chaves ou tokens.</li>
          <li><strong>Rate limit:</strong> 50 requisições por segundo por IP.</li>
        </ul>

        
      </section>

      <section id="disponibilidade">
        <h2>Disponibilidade</h2>
        <ul>
          <li>API 100% estática servida na borda pela CDN da Cloudflare, com alto cache.</li>
          <li>Tempos típicos: MISS ~150 ms, HIT ~40 ms.</li>
          <li>Alta disponibilidade 24/7.</li>
        </ul>
      </section>
      <section id="dados">
        <h2>Dados</h2>
        <p>Todos os dados são disponibilizados publicamente pela Receita Federal. A base é atualizada mensalmente, conforme a publicação mensal dos dados pela Receita Federal.</p>
        <p class="api-meta"><strong>Total de CNPJs cadastrados na base:</strong> <span id="info-total">—</span> <br/> <strong>Última atualização da base:</strong> <span id="info-updated">—</span></p>

        <div class="download-block">
          <p id="zip-desc">Prefere trabalhar offline ou integrar localmente? Baixe a base completa de CNPJs em um único arquivo ZIP e processe no seu próprio ambiente. O pacote é atualizado mensalmente, em formato aberto.</p>
          <div class="actions">
            <a id="zip-download" class="btn primary" href="#" target="_blank" rel="noopener" download>Baixar base completa (.zip)</a>
            <span id="zip-size" class="badge">Tamanho: —</span>
          </div>
          <div class="alert warning" role="note" aria-label="Aviso sobre tamanho descompactado">
            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" focusable="false">
              <path d="M1 21h22L12 2 1 21zm12-3h-2v2h2v-2zm0-8h-2v6h2V10z"/>
            </svg>
            <div>
              <strong>Aviso:</strong> após descompactar, o volume esperado é de aproximadamente <strong>550 GB</strong>.
            </div>
          </div>
          <p class="api-meta">
            <strong>URL:</strong> <a id="zip-url" href="#" target="_blank" rel="noopener">—</a><br/>
            <strong>MD5:</strong> <code id="zip-md5">—</code>
          </p>
        </div>

        <div class="alert info" role="note" aria-label="Automatize o download da base">
          <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" focusable="false">
            <path d="M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>
          </svg>
          <div>
            Caso decida por hostear a base você mesmo e quer automatizar o fluxo de atualização, acesse <a href="https://api.opencnpj.org/info" target="_blank" rel="noopener">https://api.opencnpj.org/info</a>. O retorno contém a data da última atualização, a URL do ZIP para download e o MD5 para verificação.
          </div>
        </div>
      </section>

      <section id="codigo-aberto">
        <h2>Código Aberto</h2>
        <p>Este projeto é totalmente aberto: código, issues e discussões estão públicos para você auditar, contribuir e reutilizar.</p>
        <div class="actions">
          <a class="btn" href="https://github.com/Hitmasu/opencnpj" target="_blank" rel="noopener" aria-label="Ver no GitHub">
            <svg class="icon" width="18" height="18" viewBox="0 0 16 16" aria-hidden="true" focusable="false" fill="currentColor">
              <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            Ver no GitHub
          </a>
        </div>
      </section>

      <section id="apoie">
        <h2>Apoie</h2>
        <p>As doações incentivam o projeto e ajudam a manter a infraestrutura e evoluir a API.</p>
        <p>
          <a class="btn sponsor" href="https://github.com/sponsors/Hitmasu" target="_blank" rel="noopener">Patrocinar no GitHub Sponsors</a>
        </p>
      </section>

      <section id="faq">
        <h2>Perguntas e Respostas</h2>
        <div class="faq">
          <details>
            <summary>Posso usar o serviço gratuitamente na minha empresa/serviço?</summary>
            <div class="answer">
              <p>Sim. O uso é gratuito, inclusive para fins comerciais. Nosso SLA é de <strong>99,9%</strong>. Não oferecemos suporte dedicado.</p>
            </div>
          </details>

          <details>
            <summary>Os dados são consultados/atualizados em tempo real?</summary>
            <div class="answer">
              <p>Não. A base é derivada dos dados públicos da Receita Federal e é atualizada <strong>mensalmente</strong>, de acordo com a publicação oficial.</p>
            </div>
          </details>

          <details>
            <summary>Quanto tempo após a publicação da Receita Federal vocês atualizam a base?</summary>
            <div class="answer">
              <p>Em média, até <strong>2 dias</strong> após a publicação mensal da Receita Federal.</p>
            </div>
          </details>

          <details>
            <summary>Posso consultar massivamente os dados?</summary>
            <div class="answer">
              <p>Sim, desde que respeite o rate limit de <strong>50 requisições por segundo por IP</strong>. Uso exagerado (bots/scraping da base inteira) pode gerar bloqueio temporário ou redução do limite.</p>
              <p>Para obter o conjunto completo, utilize o arquivo <strong>.zip</strong> mencionado na seção <em>Dados</em> — não há necessidade de fazer scraping da base inteira.</p>
            </div>
          </details>

          <details>
            <summary>Minha empresa tem muitas chamadas por segundo. Vocês oferecem plano pago?</summary>
            <div class="answer">
              <p>Não. Todos os serviços são gratuitos. Se o uso estiver dentro do rate limit, não há problema.</p>
            </div>
          </details>

          <details>
            <summary>O que acontece se eu ultrapassar o rate limit?</summary>
            <div class="answer">
              <p>Você receberá um código HTTP <strong>429 – Too Many Requests</strong>.</p>
            </div>
          </details>

          <details>
            <summary>Vocês armazenam logs das consultas?</summary>
            <div class="answer">
              <p>Não armazenamos logs identificáveis das consultas. Mantemos apenas métricas agregadas (quantidade de consultas e tempos de resposta) para estatísticas e melhoria contínua do serviço.</p>
            </div>
          </details>

          <details>
            <summary>Consultei um CNPJ e não foi encontrado, mas ele existe. Por quê?</summary>
            <div class="answer">
              <p>Se o CNPJ foi aberto recentemente, ele pode ainda não constar na nossa base, pois a atualização é mensal. Caso já tenha passado um mês e o CNPJ conste nos dados da Receita Federal, entre em contato conosco.</p>
            </div>
          </details>
        </div>
      </section>


      <div id="result-modal" class="modal" aria-hidden="true">
        <div class="modal-overlay" data-close-modal></div>
        <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modal-title">
          <div class="modal-header">
            <h3 id="modal-title">Resultado da consulta</h3>
            <button class="modal-close btn" type="button" aria-label="Fechar" data-close-modal>Fechar</button>
          </div>
          <div class="modal-tabs" role="tablist" aria-label="Exibição de resultado">
            <button role="tab" aria-selected="true" class="tab active" id="tab-btn-visual" aria-controls="tab-panel-visual">Visual</button>
            <button role="tab" aria-selected="false" class="tab" id="tab-btn-json" aria-controls="tab-panel-json">JSON</button>
          </div>
          <div class="modal-panels">
            <div id="tab-panel-visual" role="tabpanel" aria-labelledby="tab-btn-visual" class="panel active">
              <div id="modal-visual" class="visual"></div>
            </div>
            <div id="tab-panel-json" role="tabpanel" aria-labelledby="tab-btn-json" class="panel">
              <pre id="modal-json" class="code" aria-label="JSON bruto"></pre>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script defer src="scripts/app.js"></script>
  </body>
  </html>
